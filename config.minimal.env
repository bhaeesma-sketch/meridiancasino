# =============================================================================
# MINIMAL SECURE CONFIGURATION
# =============================================================================
# 
# This is the SIMPLEST and SAFEST configuration.
# Only requires NOWPayments and one blockchain.
#
# For maximum security, start with just Ethereum + USDT
#
# =============================================================================

# -----------------------------------------------------------------------------
# ESSENTIAL: NOWPayments (Required)
# -----------------------------------------------------------------------------
# Get these from: https://nowpayments.io/dashboard
NOWPAYMENTS_API_KEY=YOUR_NOWPAYMENTS_API_KEY
NOWPAYMENTS_IPN_SECRET=YOUR_NOWPAYMENTS_IPN_SECRET
NOWPAYMENTS_SANDBOX_MODE=true  # Set to false for production
NOWPAYMENTS_WEBHOOK_URL=https://your-domain.com/webhooks/nowpayments

# NOWPayments IP Whitelist (always verify these IPs)
NOWPAYMENTS_IP_WHITELIST=52.31.139.75,52.49.173.169,52.214.14.220

# -----------------------------------------------------------------------------
# ESSENTIAL: One Blockchain Only (Choose ONE to start)
# -----------------------------------------------------------------------------

# Option 1: Ethereum + USDT (Recommended - Most Secure)
ETH_RPC_URL=https://mainnet.infura.io/v3/YOUR_INFURA_KEY
# Get free Infura key: https://infura.io/
ETH_CHAIN_ID=1
SUPPORTED_TOKEN=USDT  # USDT on Ethereum
REQUIRED_CONFIRMATIONS=12

# OR

# Option 2: TRON + USDT (Simpler, lower fees)
# TRON_NETWORK=mainnet
# TRON_API_KEY=YOUR_TRONGRID_API_KEY  # Free from https://www.trongrid.io/
# SUPPORTED_TOKEN=USDT  # USDT on TRON
# REQUIRED_CONFIRMATIONS=20

# OR

# Option 3: BSC + USDT (Lower fees than Ethereum)
# BSC_RPC_URL=https://bsc-dataseed.binance.org/
# BSC_CHAIN_ID=56
# SUPPORTED_TOKEN=USDT  # USDT on BSC
# REQUIRED_CONFIRMATIONS=20

# -----------------------------------------------------------------------------
# ESSENTIAL: One Hot Wallet Address (For Withdrawals Only)
# -----------------------------------------------------------------------------
# Create ONE new wallet address specifically for this platform
# Do NOT use your personal wallet!
#
# For Ethereum:
HOT_WALLET_ADDRESS=0xYOUR_HOT_WALLET_ADDRESS
# This wallet will hold max $50,000 for processing withdrawals

# For TRON:
# HOT_WALLET_ADDRESS=TYOUR_TRON_HOT_WALLET_ADDRESS

# Private key is stored in Vault/Secure Storage, NOT here

# -----------------------------------------------------------------------------
# ESSENTIAL: Database (Supabase Recommended - Free Cloud PostgreSQL)
# -----------------------------------------------------------------------------
# Get from: https://supabase.com → Settings → Database → Connection string
# Use "Transaction mode" connection string (port 6543 for pooling)

# Option 1: Individual values (recommended)
DB_HOST=db.xxxxx.supabase.co
DB_PORT=6543
DB_NAME=postgres
DB_USER=postgres
DB_PASSWORD=your_supabase_password
DB_SSL=true

# Option 2: Full connection string (alternative)
# DATABASE_URL=postgresql://postgres:password@db.xxxxx.supabase.co:6543/postgres?pgbouncer=true

# Alternative: Local PostgreSQL (if not using Supabase)
# DB_HOST=localhost
# DB_PORT=5432
# DB_NAME=casino_db
# DB_USER=your_db_user
# DB_PASSWORD=your_db_password
# DB_SSL=false

# -----------------------------------------------------------------------------
# ESSENTIAL: Security Secrets (Generate strong random strings)
# -----------------------------------------------------------------------------
# Generate with: openssl rand -hex 32
JWT_SECRET=YOUR_32_CHAR_JWT_SECRET_HERE
SESSION_SECRET=YOUR_32_CHAR_SESSION_SECRET_HERE

# -----------------------------------------------------------------------------
# MINIMAL: Withdrawal Limits (Start Conservative)
# -----------------------------------------------------------------------------
WITHDRAWAL_MIN_AMOUNT=10           # Minimum $10
WITHDRAWAL_MAX_PER_DAY=1000        # Max $1000/day per user
WITHDRAWAL_AUTO_APPROVE_LIMIT=50   # Auto-approve if < $50 (after 2h delay)
WITHDRAWAL_MANUAL_APPROVE_LIMIT=100  # Manual approval if > $100

# Hot wallet limit (replenish when below this)
HOT_WALLET_MIN_BALANCE=5000
HOT_WALLET_MAX_BALANCE=50000

# -----------------------------------------------------------------------------
# MINIMAL: Application Settings
# -----------------------------------------------------------------------------
NODE_ENV=development
PORT=3000
API_URL=http://localhost:3001
FRONTEND_URL=http://localhost:3000

# -----------------------------------------------------------------------------
# OPTIONAL: Email (For Notifications - Can add later)
# -----------------------------------------------------------------------------
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password

# =============================================================================
# THAT'S IT! Everything else is optional and can be added later.
# =============================================================================
#
# Summary of what you NEED:
# ✅ NOWPayments API Key + IPN Secret
# ✅ One blockchain RPC endpoint (Ethereum/TRON/BSC)
# ✅ One hot wallet address
# ✅ Database credentials
# ✅ JWT/Session secrets
#
# Everything else (cold wallet, multi-chain, advanced features) 
# can be added later once the basic system is working.
#
# =============================================================================

